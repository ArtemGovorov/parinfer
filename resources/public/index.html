<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Parinfer - simpler Lisp editing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="codemirror/lib/codemirror.css" rel="stylesheet" type="text/css">
    <link href="css/lib/keys.css" rel="stylesheet" type="text/css">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/theme.css" rel="stylesheet" type="text/css">
  </head>
  <body>
<div class="sidebar">
  <h1>Par<em>infer</em></h1>
  <div id="toc">
    <span class="caption">building table of contents...</a>
  </div>
</div>

      <div id="app">

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section>
<p class="subtitle">
Let's dramatically simplify the way we write Lisp...
</p>

<div>
<div class="caption"><strong>Preview</strong> of indentation-based editing (close-parens become inferred)</div>
<textarea id="code-intro">
</textarea>
</div>

<p>
<strong>Lisp is often dismissed</strong> as an undesirable programming syntax
due to excessive parentheses.  Those who have adopted Lisp have long recognized its
amazing strengths, but there is still a widely held uncertainty among newcomers about
how or even <em>why</em> we must manage so many parens.  As a result, Lisp's
unique power remains invisible to most under this guise of difficulty.
</p>

<p>
<strong>Newcomers aren't satisfied</strong> with the current tools designed for
editing Lisp.  Expert-level editors (Emacs, Vim) and advanced hotkeys (Paredit)
are powerful but steepen the learning curve.  And alternative syntaxes (Lisps
without parens) have faultered since they sacrifice some of Lisp's power that
seasoned users aren't willing to part with.
</p>

<p>
<strong>Parinfer tries instead</strong> to fix this problem at its source.  We
distill the true nature of parens and its relationship to indentation through a
formalized theorem (<em>paper pending</em>).  With it, we create an intuitive
editor mode to make paren management fun and easy without sacrificing power.
We demonstrate this through interactive proof-of-concept demos below, providing
capabilities for:
</p>

<ul class="features">
<li> making code auto-adhere to formatting conventions
<li> influencing expression-nesting with indentation
<li> maintaining indentation when expressions shift
<li> allowing
<a href="http://danmidwood.com/content/2014/11/21/animated-paredit.html">Paredit</a>-like
features without hotkeys
</ul>

<blockquote>
<p>
<strong>NOTE: When I say "parens"</strong> (parentheses), I also mean <em>[square]</em> or <em>{curly}</em>
brackets.  Some Lisps (e.g.
<a href="http://racket-lang.org/">Racket</a>,
<a href="http://clojure.org/">Clojure</a>)
use these extra delimiters to help visually separate certain constructs.
</p>
</blockquote>


</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="uncovering-lisp">
<h2>Uncovering Lisp</h2>

<p>
In Lisp, parentheses tend to bunch together at the end of a line. This
<a href="https://en.wikipedia.org/wiki/Indent_style#Lisp_style">convention</a>
can be jarring at first if you are used to curly braces in other languages
being on their own lines:
</p>

<div class="two-col">
<div class="col">
<div class="caption"><strong>Lisp Style</strong> indentation:</div>
<textarea id="code-lisp-style" rows="5">
(defn foo [a b]
  (let [x (+ a b)]
    (println "The sum is" x)))
</textarea>
</div>

<div class="col">
<div class="caption"><strong>C Style</strong> indentation:</div>
<textarea id="code-c-style">
(defn foo [a b]
  (let [
     x (+ a b)
    ]
    (println "The sum is" x)
  )
)
</textarea>
</div>
</div>

<p>
The convention in Lisp is to make every line inform with content rather than
just parens. Readability is helped by employing a Python-like indentation
style.  This achieves a sort of balance&mdash; Indentation allows you to
<em>skim</em> while the parens allow you to <em>inspect</em>:</p>

<div class="two-col">
<div class="col">
<div class="caption"><strong>Skim</strong> by focusing on indentation</div>
<textarea id="code-skim">
(defn foo [a b]
  (let [x (+ a b)]
    (println "The sum is" x)))
</textarea>
</div>

<div class="col">
<div class="caption"><strong>Inspect</strong> parens with your cursor when needed</div>
<textarea id="code-inspect">
(defn foo [a b]
  (let [x (+ a b)]
    (println "The sum is" x)))
</textarea>
</div>
</div>

<p>
Though both <em>perspectives</em> are visible at once, some argue that it
becomes natural to focus on one or the other when needed.
A popular but perhaps cryptic
<a href="https://twitter.com/paulg/status/588511912331055104">LEGO analogy</a>
helps here.  Humor me for a moment...
</p>

<p>
Lisp programs are comprised of uniformly-shaped pieces (lists) which snap
together however you see fit, much like LEGOs.  In contrast, other languages
have special syntaxes for different constructs which only fit together in
special ways.  But whichever you think is the better idea, LEGOs can help model
the dual perspectives of Lisp quite well:
</p>

<div class="two-col">
<div class="col">
<div class="caption"><strong>Indentation</strong> implies structure.</div>
<textarea id="code-skim">
(defn foo [a b]
  (let [x (+ a b)]
    (println "The sum is" x)))
</textarea>
</div>

<div class="col">
<div class="caption"><strong>Tilting</strong> clarifies structure.</div>
<textarea id="code-inspect">
(defn foo [a b]
  (let [x (+ a b)]
    (println "The sum is" x)))
</textarea>
</div>
</div>

</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="the-space-of-tooling">
<h3>The Space of Tooling</h3>

<p>
Since we see an obvious relationship between Parens and Indentation in Lisp, a
lot of our editing revolves around correcting one when the other changes.  We
will visualize these actions below as spinning gears, since some actions can influence
others.
</p>

<div class="interact">
<i class="fa fa-gear fa-lg"></i>
<strong>The black gear</strong> represents the current action we are taking.
</div>

<p>
<strong>The menial and default</strong> way to edit Lisp is to manually ensure
our parens are balanced after inserting or removing them.  Then, we adjust
the indentation to match it in kind.
</p>

<div class="gearbox" id="naive-gears">
</div>

<p>
<strong>Existing tools automate</strong> some of these editing tasks.
For example, <em>Paredit</em> forces you to transform or add parens in a
balanced way through special hotkeys.  And <em>Auto-indent</em> allows you to
auto-correct indentation of selected lines when desired.
</p>

<div class="gearbox" id="helper-gears">
</div>

<p>
<strong>Parinfer is a new tool to <em>combine and simplify</em></strong> this
type of automation by naturally keeping Parens and Indentation in lockstep.  It
formally <em>infers</em> changes to one based on the other.
</p>

<div class="gearbox" id="parinfer-gears">
</div>

</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="why-parinfer-is-different">
<h3>Two Modes</h3>

<p>
Parinfer consists of two modes allowing you to choose the source of the
inference (i.e. the master gear).  This allows you to choose the degree of
freedom that <em>you</em> want, while relinquishing control of the other to
<em>Parinfer</em>.  In either case, your code stays properly formatted.
</p>

<ol>
<li>
<strong>Indent Mode</strong> causes indentation to control parens, and is
certainly the most useful for editing tasks, seen in the next section.
</li>

<li>
<strong>Paren Mode</strong> causes parens to control indentation.  This plays
an important role in preparing existing files for use in Parinfer, as well as
enabling some other useful editing tasks that we will see.
</li>
</ol>

<div class="interact">
<i class="fa fa-lightbulb-o fa-lg"></i>
<strong>To make this easy</strong>, we default to Indent Mode. Paren Mode can be an advanced option.
</div>


</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="indent-mode">
<h2>Indent Mode</h2>

<p>
Indent Mode treats indentation as an <em>intention to correct surrounding parens</em>
when possible.  Specifically, it treats the close-parens at the end of a line
as <em>eager to extend to indented lines</em>.  As a visual cue, we <em>dim</em> these parens
to signify their inferred mobility.
</p>

<div class="interact">
<i class="fa fa-keyboard-o fa-lg"></i>
<strong>Try it!</strong> Interrupt the animations below to try it for yourself. Click outside to restore it.
</div>

<div>
<div class="caption"><strong>Indent</strong> to influence the structure of your code:</div>
<textarea id="code-indent">
</textarea>
</div>

<div>
<div class="caption"><strong>Indent further</strong> to reach different thresholds:</div>
<textarea id="code-indent-far">
</textarea>
</div>

<div>
<div class="caption"><strong>Indent multiple lines</strong> to see its effect:</div>
<textarea id="code-indent-multi">
</textarea>
</div>

<p>
You can select multiple lines and adjust their indentation the standard way using
the controls below.  If you are familiar with Paredit, these operations are
roughly equivalent to those listed.
</p>

<table class="paredit-table">
<tr>
<th>controls</th>
<th>description</th>
<th>Paredit equivalent?</th>
</tr>
<tr>
<td><kbd class="light">Tab</kbd></td>
<td>indent line(s)</td>
<td>slurp line(s) down</td>
</tr>
<tr>
<td><kbd class="light">Shift</kbd> + <kbd class="light">Tab</kbd></td>
<td>dedent line(s)</td>
<td>barf line(s) down</td>
</tr>
</table>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="interesting-consequences">
<h3>Interesting Consequences</h3>

<div>
<div class="caption"><strong>Insert or delete a line</strong> without rearranging parens:</div>
<textarea id="code-line">
</textarea>
</div>

<div>
<div class="caption"><strong>Comment a line</strong> without rearranging parens:</div>
<textarea id="code-comment">
</textarea>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="indent-how-it-works">
<h3>How it works</h3>

<p>
We perform the following steps to rearrange parens based on indentation.<br>
<span class="side-point">We will refer to these later as rules #1, #2, #3 and #4.
(See the [mathematical basis] for a closer look at why these rules work.)</span>
</p>

<ol>
<li> <span class="removed">remove</span> all unmatched close-parens (for housekeeping)
<li> <span class="removed">remove</span> all close-parens at the start and end of each line
<li> <span class="kept">keep</span> all close-parens <em>inside</em> each line
<li> for every resulting unmatched open-paren:
  <ul>
  <li> <span class="inserted">insert</span> a matching close-paren at the end of its line or its last non-empty indented line
  </ul>
</ol>

<div class="interact">
<i class="fa fa-keyboard-o fa-lg"></i>
<strong>Try it!</strong> Edit the code below on the left to see how parens are inferred on the right.
</div>


<div class="two-col">
<div class="col">
<div class="caption"><strong>Input:</strong> close-parens are removed or kept.</div>
<textarea id="code-indent-input">
(defn on-click []
  (swap! s update-in [:x] inc)
  )

(defn component
  "my docstring."
  [messages]
  [:div]
   (for [[i msg] messages]
     [:div msg])
  )
</textarea>
</div>

<div class="col">
<div class="caption"><strong>Output:</strong> close-parens are inserted.</div>
<textarea id="code-indent-output">
</textarea>
</div>
</div>

<p>
This is the gist of what's happening.  There are more steps performed that you can
<a href="https://github.com/shaunlebron/parinfer/blob/master/doc/infer-details.md">read about in detail</a>,
but we will just explore their effects in the next section.
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="paredit-emerges">
<h3>Paredit emerges</h3>

<p>
You should be aware that the steps in the previous section have a side effect on
what you type.  Interestingly, these effects translate into four of the main
<a href="">Paredit</a>
 operations.
</p>

<table class="paredit-table light-keys">
<tr>
<th align="right">Cause</th>
<th align="center">Effect</th>
<th align="left">Description</th>
</tr>

<tr>
<td align="right">Insert <kbd>(</kbd></td>
<td align="center">Wrap</td>
<td align="left">
inserts a matching <kbd>)</kbd> as far as it can
<div class="side-point">
i.e. "wraps" all possible elements to the right of your cursor
</div>
</td>
</tr>

<tr>
<td align="right">Insert <kbd>)</kbd></td>
<td align="center">Barf</td>
<td align="left">
removes the original <kbd>)</kbd> when inserted inside a matching pair
<div class="side-point">
i.e. the current list "barfs" out all elements to the right of your cursor
</div>
</td>
</tr>

<tr>
<td align="right">Delete <kbd>(</kbd></td>
<td align="center">Splice</td>
<td align="left">
removes the matching <kbd>)</kbd>
<div class="side-point">
i.e. "splices" the current list into its parent (or simply "unwraps" it)
</div>
</td>
</tr>

<tr>
<td align="right">Delete <kbd>)</kbd></td>
<td align="center">Slurp</td>
<td align="left">
inserts another <kbd>)</kbd> as far as it can
<div class="side-point">
i.e. the current list "slurps" all elements to the right of your cursor
</div>
</td>
</tr>

</table>

<p>
We illustrate these operations in the following examples.
</p>

</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="inserting-parens">
<h4>Inserting Parens</h4>

<div>
<div class="caption"><strong>Wrap</strong> by inserting an open-paren. It will auto-close as far as it can, due to rule #4.</div>
<textarea id="code-wrap">
</textarea>
</div>

<div>
<div class="caption"><strong>Barf</strong> by inserting a close-paren before another.
Notice the original is removed, due to rule #1.</div>
<textarea id="code-barf">
</textarea>
</div>

<div class="caption">
<div class="question">
<i class="fa fa-question-circle"></i>
Why can't I insert a close-paren in certain places?
</div>
<div class="answer">Its corresponding open-paren must be there first. (see rule #1)</div>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="deleting-parens">
<h4>Deleting Parens</h4>

<div>
<div class="caption"><strong>Splice</strong> by removing an open-paren. Its corresponding close-paren is removed, due to rule #1.</div>
<textarea id="code-splice">
</textarea>
</div>

<div>
<div class="caption"><strong>Slurp</strong> by deleting a close-paren inside a line. It is replaced further down, due to rule #4.</div>
<textarea id="code-slurp">
</textarea>
</div>

<div class="caption">
<div class="question">
<i class="fa fa-question-circle"></i>
Why can't I delete a close-paren in certain places?
</div>
<div class="answer">You cannot delete an inferred close-paren. It is replaced as soon as you delete it. (see rule #4)</div>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="other-effects">
<h3>Other Effects</h3>

<p>
There are other side effects in Indent Mode that you should be aware of.
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="knowing-when-parens-move">
<h4>Knowing When Parens Move</h4>

<p>
As a courtesy, <em>Parinfer</em> will not move your parens until you are done typing
in front of them.  Just move your cursor away when you're done.  A helpful
analogy might be to think of your cursor as a <em>paperweight</em> that keeps your
parens from blowing away.
</p>

<div>
<div class="caption"><strong>Paren displaced</strong> when your cursor moves to another line. (displaced due to indentation)</div>
<textarea id="code-displaced">
</textarea>
</div>

<div>
<div class="caption"><strong>Paren not displaced</strong> since you were given the chance to block it. (paren not at end of line)</div>
<textarea id="code-not-displaced">
</textarea>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="pressing-enter">
<h4>Pressing Enter</h4>

<p>
Pressing enter will result in your cursor moving to an auto-indented line, as
expected.  Just keep in mind that the inferred parens won't move until you
actually type something on the new line.
</p>

<div>
<div class="caption">
<strong>Watch where the cursor is</strong> when pressing Enter. Inferred parens not displaced until typing. (rule #2)
</div>
<textarea id="code-enter">
</textarea>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="inserting-quotes">
<h4>Inserting Quotes</h4>

<p>
<em>Parinfer</em> cannot infer anything about quote positions like it can with parens.
So it doesn't try to do anything special with them, other than abandon
processing if imbalanced quotes are detected.
</p>

<div>
<div class="caption"><strong>Quote</strong> insertion allows temporary paren imbalances until quote is closed:</div>
<textarea id="code-string">
</textarea>
</div>

<div class="warning">
<div class="warning-title">
<i class="fa fa-lg fa-warning"></i>
WARNING: Always make sure quotes are balanced when inside comments!
</div>
<div class="warning-body">
If there is an unclosed quote before a comment, which itself contains
imbalanced quotes, they will balance each other out and fool <em>Parinfer</em> into
thinking it is okay for processing.
</div>
</div>

<div class="two-col">
<div class="col">
<div class="caption">
<i class="fa fa-lg fa-times red"></i>
<strong>BAD:</strong> An unclosed string in a comment can cause corrupted strings.
</div>
<textarea id="code-warn-bad">
</textarea>
</div>

<div class="col">
<div class="caption">
<i class="fa fa-lg fa-check green"></i>
<strong>GOOD</strong>: Balance the quotes in the comment to prevent the problem.
</div>
<textarea id="code-warn-good">
</textarea>
</div>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="paren-mode">
<h2>Paren Mode</h2>

<p>
In "Paren Mode", indentation is tightly controlled by parens at all times.  You
can still adjust indentation, but you won't be able indent/dedent past certain
boundaries set by parens on previous lines.  As a courtesy, this mode also
maintains relative indentation of child elements when their parent expressions
shift.
</p>

<p>
Here are some things that cannot be done in Indent Mode:
</p>

<div>
<div class="caption"><strong>Tune indentation</strong> without worrying about crossing a paren boundary:</div>
<textarea id="code-paren-tune">
</textarea>
</div>

<div>
<div class="caption"><strong>Avoid fracturing</strong> a multi-line expression when pushing its open-paren forward:</div>
<textarea id="code-paren-frac">
</textarea>
</div>

<div>
<div class="caption"><strong>Indentation is maintained</strong> when parens shift, ensuring reversible operations:</div>
<textarea id="code-paren-comment">
</textarea>
</div>

<div>
<div class="caption"><strong>Nested expressions</strong> become automatically indented (temporary imbalances allowed):</div>
<textarea id="code-paren-wrap">
</textarea>
</div>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="paren-how-it-works">
<h3>How it works</h3>

<p>
Paren Mode performs the following steps:
</p>

<ol>
<li> Move close-parens at the start of a line to the end of the previous non-empty line.
<li> Clamp the indentation of a line to the following range:
  <ul>
    <li> min: x-position of the parent open-paren (if it exists)
    <li> max: x-position of the open-paren belonging to the previous non-empty line's last close-paren
  </ul>
<li> Child elements of moved expressions should maintain their original relative indentation to them.
<li> Cancel processing if there are any unmatched parens.
</ol>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="switching-modes">
<h3>Switching Modes</h3>

<p>
If there are paren imbalances in Paren Mode, the code is not processed, and you
are prevented from switching to Indent Mode.  This safely quarantines the
imbalances that could be misinterpreted in Indent Mode.  Thus, Paren Mode gives
you an environment to fix them, after which the code is automatically formatted
and ready for Indent Mode should you choose to switch.
</section>
</div>
</p>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="fixing-existing-files">
<h3>Fixing existing files</h3>

<p>
We must take parens literally when opening an existing file. Incidentally,
Paren Mode is perfect for this job, so we preprocess existing files with it
before ever trying to switch to Indent Mode.
</p>

<div class="interact">
<i class="fa fa-keyboard-o fa-lg"></i>
<strong>Try it!</strong> Edit the code below on the left to see how it is formatted on the right.
</div>

<div class="two-col">
<div class="col">
<div class="caption"><strong>Input:</strong> Any existing file. Must be correctly balanced, but can be incorrectly formatted.</div>
<textarea id="code-paren-input">
(defn foo
  ([a]
    (foo a 1))
  ([a b]
    (let [sum (+ a b)
          prod (* a b)
          result { ; gather vals
            :sum sum
            :prod prod
          }]
      result)
    ; TODO: something
    ))
</textarea>
</div>

<div class="col">
<div class="caption"><strong>Output:</strong> Made ready for Parinfer by correcting indentation and moving close-parens.</div>
<textarea id="code-paren-output">
</textarea>
</div>
</div>

<p>
Notice that this process is NOT an invasive pretty-printer.  It preserves as
much as it can of the original code, only moving close-parens and changing
indentation.
</p>

<p>
<em>Parinfer</em> should remain in Paren Mode if the file cannot be processed, due
to the reasons stated in the previous section.
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="final-thoughts">
<h2>Final Thoughts</h2>

<p>
Regardless of how we choose to edit our Lisp code, there seems to always be a
balancing act between maintaining the simplicity of how we interact with the
editor and accepting some editor complexity to gain automation over these
powerful but numerous parens.
</p>

<p>
I don't yet know how well <em>Parinfer</em> will play this balancing act since it does
not currently exist in a form that I can use in my day-to-day work.  But the
interactive examples have allowed me to explore, explain, and implement these
concepts in CodeMirror. The <em>real test</em> will come when implemented in a major
editor.
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="benefits">
<h3>Benefits</h3>

<p>
Inferring parentheses based on indentation seems to lead to simpler editing
mechanics for Lisp code.  It leads to a system that keeps our code formatted
well. And it allows us to use paredit-like features without hotkeys.
</p>

<p>
I think the biggest win is its potential to quell fear of managing end-of-line
parens by enforcing a direct driving relationship with indentation.
</p>

<p>
And just like <em>Paredit</em> it maintains paren-balanced code.
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="downsides">
<h3>Downsides</h3>

<p>
The rules for what happens when inserting/deleting parens must be learned.
Also, the case necessitating a "Paren Mode" comes at the cost of forcing the
user to understand when and how to switch editing modes.
</p>

<p>
Also, the preprocessor step performed when opening files will cause more
formatting-related changes in your commit history when collaborating with
others not using <em>Parinfer</em>.
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="source-code">
<h3>Source Code</h3>

<p>
The text formatting code is implemented in portable Clojure/ClojureScript.  The
editor demos are created in CodeMirror with hooks to apply our formatters and
update cursor position.
</p>

<p>
<i class="fa fa-lg fa-code-fork"></i> <a href="http://github.com/shaunlebron/parinfer">http://github.com/shaunlebron/parinfer</a>
</p>
</section>
</div>

<!------------------------------------------------------------------------------------>

<div class="wrapper">
<section id="prior-art">
<h3>Prior Art</h3>

<p>
There are many ideas related to this concept.
</p>

<ul>
<li>
<a href="http://danmidwood.com/content/2014/11/21/animated-paredit.html">Paredit</a>
- structural editing and auto-balancing of Lisp text
</li>

<li>
<a href="http://haml.info">Haml</a>,
<a href="http://slim-lang.com/">Slim</a>,
and
<a href="http://jade-lang.com/">Jade</a>
- indented HTML templating langs (close to indented lisps)
</li>

<li>
<a href="http://learnyouahaskell.com/higher-order-functions#function-application">Haskell's $ operator</a>
- infers a closing paren after all expressions to the right
</li>

<li>
<a href="http://readable.sourceforge.net/">sweet-expressions</a>,
<a href="http://srfi.schemers.org/srfi-49/srfi-49.html">i-expressions</a>,
and
<a href="https://github.com/boxed/indent-clj">indent-clj</a>
- infers both left and right parens
</li>

<li>
<a href="https://github.com/Cirru/sepal.clj">Cirru Sepal in Clojure</a>
- infers Clojure parens from indentation, <code>$</code>, <code>$ []</code>, <code>$ {}</code> and <code>,</code>.
</li>

<li>
<a href="https://github.com/mkremins/flense">Flense</a>
and
<a href="https://github.com/darwin/plastic">Plastic</a>
- structural editing concepts for Clojure text
</li>

<li>
<a href="https://github.com/boxed/clojure-validate-indent">clojure-validate-indent</a>
- validates indentation of Clojure code
</li>

<li>
<a href="https://github.com/bbatsov/clojure-style-guide#source-code-layout--organization">The Clojure Style Guide</a>
- indentation conventions in Clojure
</li>

</ul>
</section>
</div>

<section>
<div id="xkcd">
<a href="https://xkcd.com/312/"><img src="img/xkcd-frost.png"></a>
</div>
</section>

<!------------------------------------------------------------------------------------>

      </div> <!-- div id="app" -->

      <div id="controls">
      </div>

    <script src="codemirror/lib/codemirror.js"></script>
    <script src="codemirror/addon/selection/active-line.js"></script>
    <script src="codemirror/addon/edit/matchbrackets.js"></script>
    <script src="codemirror/mode/clojure/clojure.js"></script>
    <script src="codemirror/mode/clojure/clojure-parinfer.js"></script>

    <script src="js/lib/scrollMonitor.js"></script>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.3.3/d3.min.js"></script>
    <script src="js/lib/gears.d3.js"></script>

    <script src="js/lib/jsdiff.min.js"></script>

    <script src="js/compiled/parinfer.js" type="text/javascript"></script>
  </body>
</html>
